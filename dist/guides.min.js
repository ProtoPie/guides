/*
Copyright (c) 2019 Daybrush
name: @scena/guides
license: MIT
author: Protopie
repository: git+https://github.com/ProtoPie/guides.git
version: 0.18.1
*/
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("react"),require("react-dom")):"function"==typeof define&&define.amd?define(["react","react-dom"],e):(t=t||self).Guides=e(t.React,t.reactDom)}(this,function(p,o){"use strict";var i=function(t,e){return(i=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(t,e){t.__proto__=e}:function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}))(t,e)};function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var v=function(){return(v=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};function m(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var i=Array(t),r=0,e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,r++)i[r]=o[s];return i}var z="function",X=[{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"},{open:'\\"',close:'\\"'},{open:"\\'",close:"\\'"}],T=1e-7,r={cm:function(t){return 96*t/2.54},mm:function(t){return 96*t/254},in:function(t){return 96*t},pt:function(t){return 96*t/72},pc:function(t){return 96*t/6},"%":function(t,e){return t*e/100},vw:function(t,e){return t/100*(e=void 0===e?window.innerWidth:e)},vh:function(t,e){return t/100*(e=void 0===e?window.innerHeight:e)},vmax:function(t,e){return t/100*(e=void 0===e?Math.max(window.innerWidth,window.innerHeight):e)},vmin:function(t,e){return t/100*(e=void 0===e?Math.min(window.innerWidth,window.innerHeight):e)}};function a(t){return t&&"object"==typeof t}function y(t,e,n,i,r){if(E(t,e,n))return n;for(var o,s=t,a=e,l=i,c=r,u=n+1;u<l;++u){var d=function(t){var e,n,i=a[t].trim();return i!==s.close||E(s,a,t)?(e=t,-1===(e=(n=x(c,function(t){return t.open===i}))?y(n,a,t,l,c):e)?(o=t,"break"):void(o=t=e)):{value:t}}(u);if(u=o,"object"==typeof d)return d.value;if("break"===d)break}return-1}function E(t,e,n){return t.ignore?(e=e.slice(Math.max(n-3,0),n+3).join(""),new RegExp(t.ignore).exec(e)):null}function C(o,t){var t="string"==typeof t?{separator:t}:t,e=t.separator,s=void 0===e?",":e,a=t.isSeparateFirst,l=t.isSeparateOnlyOpenClose,e=t.isSeparateOpenClose,c=void 0===e?l:e,e=t.openCloseCharacters,u=void 0===e?X:e,t=u.map(function(t){var e=t.open,t=t.close;return e===t?e:e+"|"+t}).join("|"),e=new RegExp("(\\s*"+s+"\\s*|"+t+"|\\s+)","g"),d=o.split(e).filter(Boolean),h=d.length,f=[],p=[];function g(){return p.length&&(f.push(p.join("")),p=[])}for(var v,n=function(t){var e=d[t].trim(),n=t,i=x(u,function(t){return t.open===e}),r=x(u,function(t){return t.close===e});if(i){if(-1!==(n=y(i,d,t,h,u))&&c)return g()&&a||(f.push(d.slice(t,n+1).join("")),t=n,a)?(v=t,"break"):(v=t,"continue")}else{if(r&&!E(r,d,t))return(i=function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var i=Array(t),r=0,e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,r++)i[r]=o[s];return i}(u)).splice(u.indexOf(r),1),{value:C(o,{separator:s,isSeparateFirst:a,isSeparateOnlyOpenClose:l,isSeparateOpenClose:c,openCloseCharacters:i})};if(r=e,!((""!==(i=s)&&" "!=i||""!==r&&" "!=r)&&r!==i||l))return g(),a?(v=t,"break"):(v=t,"continue")}p.push(d.slice(t,(n=-1===n?h-1:n)+1).join("")),v=t=n},i=0;i<h;++i){var r=n(i),i=v;if("object"==typeof r)return r.value;if("break"===r)break}return p.length&&f.push(p.join("")),f}function l(t){return C(t,",")}function c(t){var e,n,t=/^([^\d|e|\-|\+]*)((?:\d|\.|-|e-|e\+)+)(\S*)$/g.exec(t);return t?(e=t[1],n=t[2],{prefix:e,unit:t[3],value:parseFloat(n)}):{prefix:"",unit:"",value:NaN}}function b(){return Date.now?Date.now():(new Date).getTime()}function u(t,e,n){void 0===n&&(n=-1);for(var i=t.length,r=0;r<i;++r)if(e(t[r],r,t))return r;return n}function x(t,e,n){e=u(t,e);return-1<e?t[e]:n}function U(t,e){var t=c(t),n=t.value,t=t.unit;if(a(e)){var i=e[t];if(i){if(typeof i===z)return i(n);if(r[t])return r[t](n,i)}}else if("%"===t)return n*e/100;return r[t]?r[t](n):n}function Y(t,e){var n;return e?(n=1/e,Math.round(t/e)/n):t}function S(t,e,n,i){t.addEventListener(e,n,i)}function w(t,e,n,i){t.removeEventListener(e,n,i)}var d=function(){return(d=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};var t=function(){function t(){this._events={}}var e=t.prototype;return e.on=function(t,e){if(a(t))for(var n in t)this.on(n,t[n]);else this._addEvent(t,e,{});return this},e.off=function(t,e){if(t)if(a(t))for(var n in t)this.off(n);else{var i,r;e?(i=this._events[t])&&-1<(r=u(i,function(t){return t.listener===e}))&&i.splice(r,1):this._events[t]=[]}else this._events={};return this},e.once=function(e,t){var n=this;return t&&this._addEvent(e,t,{once:!0}),new Promise(function(t){n._addEvent(e,t,{once:!0})})},e.emit=function(e,n){var t,i=this,r=(void 0===n&&(n={}),this._events[e]);return!e||!r||(t=!1,n.eventType=e,n.stop=function(){t=!0},n.currentTarget=this,function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var i=Array(t),r=0,e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,r++)i[r]=o[s];return i}(r).forEach(function(t){t.listener(n),t.once&&i.off(e,t.listener)}),!t)},e.trigger=function(t,e){return this.emit(t,e=void 0===e?{}:e)},e._addEvent=function(t,e,n){var i=this._events;i[t]=i[t]||[],i[t].push(d({listener:e},n))},t}();function h(e,n){return function(t){t&&(e[n]=t)}}function n(n,i){return function(t){var e=t.prototype;n.forEach(function(t){i(e,t)})}}var N=function(t,e){return(N=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(t,e){t.__proto__=e}:function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}))(t,e)};var R=function(){return(R=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},A=function(e){var t=r,n=e;if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={scrollPos:0},t.width=0,t.height=0,t._zoom=0,t}N(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i);n=r.prototype;return n.render=function(){var t=this.props,e=t.portalContainer,n={};return-1<(p.version||"").indexOf("simple")&&e&&(n={portalContainer:e}),this._zoom=t.zoom,p.createElement("canvas",R({ref:h(this,"canvasElement")},n,{style:this.props.style}))},n.componentDidMount=function(){var t=this.canvasElement.getContext("2d");this.canvasContext=t,this.resize()},n.componentDidUpdate=function(){this.resize()},n.scroll=function(t,e){this.draw(t,e)},n.resize=function(t){var e=this.canvasElement,n=this.props,i=n.width,r=n.height,n=n.scrollPos;this.width=i||e.offsetWidth,this.height=r||e.offsetHeight,e.width=2*this.width,e.height=2*this.height,this.draw(n,t)},n.draw=function(t,e){void 0===t&&(t=this.state.scrollPos),void 0===e&&(e=this._zoom),this._zoom=e;var n=this.props,i=n.unit,Y=n.type,X=n.backgroundColor,N=n.lineColor,R=n.textColor,A=n.textBackgroundColor,r=n.direction,o=n.negativeRuler,o=void 0===o||o,s=n.segment,a=void 0===s?10:s,B=n.textFormat,s=n.range,l=void 0===s?[-1/0,1/0]:s,s=n.rangeBackgroundColor,c=this.width,u=this.height,d=(this.state.scrollPos=t,this.canvasContext),h="horizontal"===Y,L=!1!==o,Y=n.font||"10px sans-serif",f=n.textAlign||"left",p=n.textOffset||[0,0],o=h?u:c,g=U("".concat(n.mainLineSize||"100%"),o),I=U("".concat(n.longLineSize||10),o),W=U("".concat(n.shortLineSize||7),o),v=n.lineOffset||[0,0];switch("transparent"===X?d.clearRect(0,0,2*c,2*u):(d.rect(0,0,2*c,2*u),d.fillStyle=X,d.fill()),d.save(),d.scale(2,2),d.strokeStyle=N,d.lineWidth=1,d.font=Y,d.fillStyle=R,r){case"start":d.textBaseline="top";break;case"center":d.textBaseline="middle";break;case"end":d.textBaseline="bottom"}d.translate(.5,0),d.beginPath();var m=h?c:u,y=e*i,E=Math.floor(t*e/y),q=Math.ceil((t*e+m)/y)-E,H=Math.max(["left","center","right"].indexOf(f)-1,-1),C=h?u:c;"transparent"!==s&&l[0]!==-1/0&&l[1]!==1/0&&(o=(l[0]-t)*e,n=(l[1]-l[0])*e,d.save(),d.fillStyle=s,h?d.fillRect(o,0,n,C):d.fillRect(0,o,C,n),d.restore());for(var b=0;b<=q;++b){var x=b+E;if(L||!(x<0))for(var S=((M=x*i)-t)*e,w=0;w<a;++w){var _=S+w/a*y,D=M+w/a*i;if(!(_<0||m<=_||D<l[0]||D>l[1])){var P=0===w?g:w%2==0?I:W,O=0;switch(r){case"start":O=0;break;case"center":O=C/2-P/2;break;case"end":O=C-P}var D=h?[_+v[0],O+v[1]]:[O+v[0],_+v[1]],_=D[0],D=D[1],k=h?[_,D+P]:[_+P,D],Z=k[0],k=k[1];d.moveTo(_+v[0],D+v[1]),d.lineTo(Z+v[0],k+v[1])}}}d.stroke();for(b=0;b<=q;++b){x=b+E;if(L||!(x<0)){var M,S=((M=x*i)-t)*e;if(!(S<-y||m+i*e<=S||M<l[0]||M>l[1])){O=0;switch(r){case"start":O=17;break;case"center":O=C/2;break;case"end":O=C-17}var G=h?[S+-3*H,O]:[O,S+3*H],F=G[0],G=G[1],j="".concat(M),z=(B&&(j=B(M)),d.textAlign=f,0),T=d.measureText(j).width;switch(f){case"left":z=0;break;case"center":z=-T/2;break;case"right":z=-T}h?(d.save(),d.fillStyle=A,d.fillRect(F+p[0]+z,0,T,g)):(d.save(),d.translate(0,G+p[1]),d.rotate(-Math.PI/2),d.fillStyle=A,d.fillRect(z,0,T,g)),d.restore(),h?d.fillText(j,F+p[0],G+p[1]):(d.save(),d.translate(F+p[0],G+p[1]),d.rotate(-Math.PI/2),d.fillText(j,0,0),d.restore())}}}d.restore()},r.defaultProps={type:"horizontal",zoom:1,width:0,height:0,unit:50,negativeRuler:!0,mainLineSize:"100%",longLineSize:10,shortLineSize:7,segment:10,direction:"end",style:{width:"100%",height:"100%"},backgroundColor:"#333333",font:"10px sans-serif",textColor:"#ffffff",textBackgroundColor:"transparent",lineColor:"#777777",range:[-1/0,1/0],rangeBackgroundColor:"transparent"},r}(p.PureComponent),B=["type","width","height","unit","zoom","direction","textAlign","font","segment","mainLineSize","longLineSize","shortLineSize","lineOffset","textOffset","negativeRuler","range","scrollPos","style","backgroundColor","rangeBackgroundColor","lineColor","textColor","textBackgroundColor","textFormat","portalContainer"];function f(t,e,n){void 0===n&&(n=Math.sqrt(t.length));var i=[],r=t.length/n,o=e.length/r;if(!r)return e;if(!o)return t;for(var s=0;s<n;++s)for(var a=0;a<o;++a)for(var l=i[a*n+s]=0;l<r;++l)i[a*n+s]+=t[l*n+s]*e[a*r+l];return i}function L(t,e){return f(t,[1,0,0,0,0,Math.cos(e),Math.sin(e),0,0,-Math.sin(e),Math.cos(e),0,0,0,0,1],4)}function I(t,e){return f(t,[Math.cos(e),0,-Math.sin(e),0,0,1,0,0,Math.sin(e),0,Math.cos(e),0,0,0,0,1],4)}function W(t,e){return f(t,(t=e,e=4,n=Math.cos(t),t=Math.sin(t),(i=q(e))[0]=n,i[1]=t,i[e]=-t,i[e+1]=n,i));var n,i}function g(t,e){var n=e[0],i=e[1],e=e[2];return f(t,[void 0===n?1:n,0,0,0,0,void 0===i?1:i,0,0,0,0,void 0===e?1:e,0,0,0,0,1],4)}function _(t,e){var n=e[0],i=e[1],e=e[2];return f(t,[1,0,0,0,0,1,0,0,0,0,1,0,void 0===n?0:n,void 0===i?0:i,void 0===e?0:e,1],4)}function D(t,e){return f(t,e,4)}function q(t){for(var e=t*t,n=[],i=0;i<e;++i)n[i]=i%(t+1)?0:1;return n}function H(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function Z(t){return t=(function(t){return Array.isArray(t)}(t=t)?t:function(t){return C(t,"")}(t)).map(function(t){var e,n,i,t=!(t=/([^(]*)\(([\s\S]*)\)([\s\S]*)/g.exec(t=t))||t.length<4?{}:{prefix:t[1],value:t[2],suffix:t[3]},r=t.prefix,t=t.value,o=null,s=r,a="";return"translate"===r||"translateX"===r||"translate3d"===r?(o=_,a=[(i=l(t).map(function(t){return parseFloat(t)}))[0],void 0===(e=i[1])?0:e,void 0===(e=i[2])?0:e]):"translateY"===r?(o=_,a=[0,parseFloat(t),0]):"translateZ"===r?(o=_,a=[0,0,parseFloat(t)]):"scale"===r||"scale3d"===r?(o=g,a=[n=(i=l(t).map(function(t){return parseFloat(t)}))[0],void 0===(e=i[1])?n:e,void 0===(e=i[2])?1:e]):"scaleX"===r?(o=g,a=[n=parseFloat(t),1,1]):"scaleY"===r?(o=g,a=[1,parseFloat(t),1]):"scaleZ"===r?(o=g,a=[1,1,parseFloat(t)]):"rotate"===r||"rotateZ"===r||"rotateX"===r||"rotateY"===r?(e=(i=c(t)).unit,n=i.value,"rotate"===r||"rotateZ"===r?(s="rotateZ",o=W):"rotateX"===r?o=L:"rotateY"===r&&(o=I),a="rad"===e?n:n*Math.PI/180):"matrix3d"===r?(o=D,a=l(t).map(function(t){return parseFloat(t)})):"matrix"===r?(o=D,a=[(i=l(t).map(function(t){return parseFloat(t)}))[0],i[1],0,0,i[2],i[3],0,0,0,0,1,0,i[4],i[5],0,1]):s="",{name:r,functionName:s,value:t,matrixFunction:o,functionValue:a}}),n=H(),t.forEach(function(t){var e=t.matrixFunction,t=t.functionValue;e&&(n=e(n,t))}),n;var n}function V(t,e){n=t,e=[e[0],e[1]||0,e[2]||0,1],i=(n=f(t,e,t=void 0===(t=4)?e.length:t))[t-1];var n,i,e=n.map(function(t){return t/i}),t=e[3]||1;return[e[0]/t,e[1]/t,e[2]/t]}function $(t,e){void 0===e&&(e=document.body);for(var n=t,i=H();n;){i=D(Z(getComputedStyle(n).transform),i);if(n===e)break;n=n.parentElement}return(i=function(t,e){void 0===e&&(e=Math.sqrt(t.length));for(var n=t.slice(),i=q(e),r=0;r<e;++r){var o=e*r+r;if(!Y(n[o],T))for(var s=r+1;s<e;++s)if(n[e*r+s]){v=g=p=f=h=d=u=c=l=a=void 0;for(var a=n,l=i,c=r,u=s,d=e,h=0;h<d;++h){var f=c+h*d,p=u+h*d,g=a[f],v=l[f];a[f]=a[p],a[p]=g,l[f]=l[p],l[p]=v}break}if(!Y(n[o],T))return[];S=x=b=C=E=y=m=void 0;for(var m=n,y=i,E=r,C=e,b=n[o],x=0;x<C;++x){var S=E+x*C;m[S]/=b,y[S]/=b}for(s=0;s<e;++s){var w=s,_=n[s+r*e];if(Y(_,T)&&r!==s){z=j=F=G=M=k=O=P=D=void 0;for(var D=n,P=i,O=w,k=r,M=e,G=-_,F=0;F<M;++F){var j=O+F*M,z=k+F*M;D[j]+=D[z]*G,P[j]+=P[z]*G}}}}return i}(i,4))[12]=0,i[13]=0,i[14]=0,i}var J=function(t,e){return(J=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(t,e){t.__proto__=e}:function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])}))(t,e)};var P=function(){return(P=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};function O(t){return 180*(e=[t[0].clientX,t[0].clientY],t=[t[1].clientX,t[1].clientY],n=t[0]-e[0],t=t[1]-e[1],(0<=(e=Math.atan2(t,n))?e:e+2*Math.PI)/Math.PI);var e,n}function k(t){if(!t)return[];if(t.touches){for(var e=t.touches,n=Math.min(e.length,2),i=[],r=0;r<n;++r)i.push(Q(e[r]));return i}return[Q(t)]}function K(t,e,n){var i=n.length,t=G(t,i),r=t.clientX,o=t.clientY,s=t.originalClientX,t=t.originalClientY,e=G(e,i),a=e.clientX,e=e.clientY,n=G(n,i);return{clientX:s,clientY:t,deltaX:r-a,deltaY:o-e,distX:r-n.clientX,distY:o-n.clientY}}function M(t){return Math.sqrt(Math.pow(t[0].clientX-t[1].clientX,2)+Math.pow(t[0].clientY-t[1].clientY,2))}function Q(t){return{clientX:t.clientX,clientY:t.clientY}}function G(t,e){void 0===e&&(e=t.length);for(var n={clientX:0,clientY:0,originalClientX:0,originalClientY:0},i=0;i<e;++i){var r=t[i];n.originalClientX+="originalClientX"in r?r.originalClientX:r.clientX,n.originalClientY+="originalClientY"in r?r.originalClientY:r.clientY,n.clientX+=r.clientX,n.clientY+=r.clientY}return e?{clientX:n.clientX/e,clientY:n.clientY/e,originalClientX:n.originalClientX/e,originalClientY:n.originalClientY/e}:n}var F=function(){function t(t){this.prevClients=[],this.startClients=[],this.movement=0,this.length=0,this.startClients=t,this.prevClients=t,this.length=t.length}var e=t.prototype;return e.getAngle=function(t){return O(t=void 0===t?this.prevClients:t)},e.getRotation=function(t){return O(t=void 0===t?this.prevClients:t)-O(this.startClients)},e.getPosition=function(t,e){var n=K((t=void 0===t?this.prevClients:t)||this.prevClients,this.prevClients,this.startClients),i=n.deltaX,r=n.deltaY;return this.movement+=Math.sqrt(i*i+r*r),this.prevClients=t,n},e.getPositions=function(n){void 0===n&&(n=this.prevClients);var i=this.prevClients;return this.startClients.map(function(t,e){return K([n[e]],[i[e]],[t])})},e.getMovement=function(t){var e,n,i=this.movement;return t?(t=G(t,this.length),e=G(this.prevClients,this.length),n=t.clientX-e.clientX,t=t.clientY-e.clientY,Math.sqrt(n*n+t*t)+i):i},e.getDistance=function(t){return M(t=void 0===t?this.prevClients:t)},e.getScale=function(t){return M(t=void 0===t?this.prevClients:t)/M(this.startClients)},e.move=function(e,n){this.startClients.forEach(function(t){t.clientX-=e,t.clientY-=n})},t}(),tt=["textarea","input"],et=function(o){function t(){this.constructor=e}var e;function n(t,e){void 0===e&&(e={});var n,g=o.call(this)||this,t=(g.options={},g.flag=!1,g.pinchFlag=!1,g.data={},g.isDrag=!1,g.isPinch=!1,g.isMouse=!1,g.isTouch=!1,g.clientStores=[],g.targets=[],g.prevTime=0,g.doubleFlag=!1,g._dragFlag=!1,g._isMouseEvent=!1,g._isSecondaryButton=!1,g._preventMouseEvent=!1,g.onDragStart=function(t,e){if(void 0===e&&(e=!0),g.flag||!1!==t.cancelable){var n=g.options,i=n.container,r=n.pinchOutside,o=n.preventWheelClick,s=n.preventRightClick,a=n.preventDefault,l=n.checkInput,c=n.preventClickEventOnDragStart,u=n.preventClickEventOnDrag,n=n.preventClickEventByCondition,d=g.isTouch,h=!g.flag;if(g._isSecondaryButton=3===t.which||2===t.button,o&&(2===t.which||1===t.button)||s&&(3===t.which||2===t.button))return g.stop(),!1;if(h){o=document.activeElement,s=t.target;if(s){var f=s.tagName.toLowerCase(),f=-1<tt.indexOf(f),p=s.isContentEditable;if(f||p){if(l||o===s)return!1;if(o&&p&&o.isContentEditable&&o.contains(s))return!1}else(a||"touchstart"===t.type)&&o&&(f=o.tagName.toLowerCase(),o.isContentEditable||-1<tt.indexOf(f))&&o.blur();(c||u||n)&&S(window,"click",g._onClick,!0)}g.clientStores=[new F(k(t))],g.flag=!0,g.isDrag=!1,g._dragFlag=!0,g.data={},g.doubleFlag=b()-g.prevTime<200,g._isMouseEvent=(l=t)&&(-1<l.type.indexOf("mouse")||"button"in l),!g._isMouseEvent&&g._preventMouseEvent&&(g._preventMouseEvent=!1),!1===(g._preventMouseEvent||g.emit("dragStart",P(P({data:g.data,datas:g.data,inputEvent:t,isMouseEvent:g._isMouseEvent,isSecondaryButton:g._isSecondaryButton,isTrusted:e,isDouble:g.doubleFlag},g.getCurrentStore().getPosition()),{preventDefault:function(){t.preventDefault()},preventDrag:function(){g._dragFlag=!1}})))&&g.stop(),g._isMouseEvent&&g.flag&&a&&t.preventDefault()}if(!g.flag)return!1;p=0;h?(g._attchDragEvent(),d&&r&&(p=setTimeout(function(){S(i,"touchstart",g.onDragStart,{passive:!1})}))):d&&r&&w(i,"touchstart",g.onDragStart),g.flag&&(s=t).touches&&2<=s.touches.length&&(clearTimeout(p),h&&t.touches.length!==t.changedTouches.length||g.pinchFlag||g.onPinchStart(t))}},g.onDrag=function(t,e){if(g.flag){var n=g.options.preventDefault,n=(!g._isMouseEvent&&n&&t.preventDefault(),k(t)),i=g.moveClients(n,t,!1);if(g._dragFlag){if(g.pinchFlag||i.deltaX||i.deltaY)if(!1===(g._preventMouseEvent||g.emit("drag",P(P({},i),{isScroll:!!e,inputEvent:t}))))return void g.stop();g.pinchFlag&&g.onPinch(t,n)}g.getCurrentStore().getPosition(n,!0)}},g.onDragEnd=function(t){var e,n,i,r,o,s;g.flag&&(s=(i=g.options).pinchOutside,e=i.container,o=i.preventClickEventOnDrag,r=i.preventClickEventOnDragStart,i=i.preventClickEventByCondition,n=g.isDrag,(o||r||i)&&requestAnimationFrame(function(){g._allowClickEvent()}),i||r||!o||n||g._allowClickEvent(),g.isTouch&&s&&w(e,"touchstart",g.onDragStart),g.pinchFlag&&g.onPinchEnd(t),0!==(i=null!=t&&t.touches?k(t):[]).length&&g.options.keepDragging?g._addStore(new F(i)):g.flag=!1,r=g._getPosition(),o=b(),s=!n&&g.doubleFlag,g.prevTime=n||s?0:o,g.flag||(g._dettachDragEvent(),g._preventMouseEvent||g.emit("dragEnd",P({data:g.data,datas:g.data,isDouble:s,isDrag:n,isClick:!n,isMouseEvent:g._isMouseEvent,isSecondaryButton:g._isSecondaryButton,inputEvent:t},r)),g.clientStores=[],g._isMouseEvent)||(g._preventMouseEvent=!0,requestAnimationFrame(function(){requestAnimationFrame(function(){g._preventMouseEvent=!1})})))},g.onBlur=function(){g.onDragEnd()},g._allowClickEvent=function(){w(window,"click",g._onClick,!0)},g._onClick=function(t){g._allowClickEvent(),g._preventMouseEvent=!1;var e=g.options.preventClickEventByCondition;null!=e&&e(t)||(t.stopPropagation(),t.preventDefault())},g._onContextMenu=function(t){g.options.preventRightClick?g.onDragEnd(t):t.preventDefault()},g._passCallback=function(){},[].concat(t)),e=(g.options=P({checkInput:!1,container:1<t.length?window:t[0],preventRightClick:!0,preventWheelClick:!0,preventClickEventOnDragStart:!1,preventClickEventOnDrag:!1,preventClickEventByCondition:null,preventDefault:!0,checkWindowBlur:!1,keepDragging:!1,pinchThreshold:0,events:["touch","mouse"]},e),g.options),i=e.container,r=e.events,e=e.checkWindowBlur;return g.isTouch=-1<r.indexOf("touch"),g.isMouse=-1<r.indexOf("mouse"),g.targets=t,g.isMouse&&(t.forEach(function(t){S(t,"mousedown",g.onDragStart),S(t,"mousemove",g._passCallback)}),S(i,"contextmenu",g._onContextMenu)),e&&S(window,"blur",g.onBlur),g.isTouch&&(n={passive:!1},t.forEach(function(t){S(t,"touchstart",g.onDragStart,n),S(t,"touchmove",g._passCallback,n)})),g}J(e=n,i=o),e.prototype=null===i?Object.create(i):(t.prototype=i.prototype,new t);var i=n.prototype;return i.stop=function(){this.isDrag=!1,this.data={},this.clientStores=[],this.pinchFlag=!1,this.doubleFlag=!1,this.prevTime=0,this.flag=!1,this._allowClickEvent(),this._dettachDragEvent()},i.getMovement=function(t){return this.getCurrentStore().getMovement(t)+this.clientStores.slice(1).reduce(function(t,e){return t+e.movement},0)},i.isDragging=function(){return this.isDrag},i.isFlag=function(){return this.flag},i.isPinchFlag=function(){return this.pinchFlag},i.isDoubleFlag=function(){return this.doubleFlag},i.isPinching=function(){return this.isPinch},i.scrollBy=function(t,e,n,i){void 0===i&&(i=!0),this.flag&&(this.clientStores[0].move(t,e),i)&&this.onDrag(n,!0)},i.move=function(t,e){var n=t[0],i=t[1],t=this.getCurrentStore().prevClients;return this.moveClients(t.map(function(t){var e=t.clientX,t=t.clientY;return{clientX:e+n,clientY:t+i,originalClientX:e,originalClientY:t}}),e,!0)},i.triggerDragStart=function(t){this.onDragStart(t,!1)},i.setEventData=function(t){var e,n=this.data;for(e in t)n[e]=t[e];return this},i.setEventDatas=function(t){return this.setEventData(t)},i.getCurrentEvent=function(t){return P(P({data:this.data,datas:this.data},this._getPosition()),{movement:this.getMovement(),isDrag:this.isDrag,isPinch:this.isPinch,isScroll:!1,inputEvent:t})},i.getEventData=function(){return this.data},i.getEventDatas=function(){return this.data},i.unset=function(){var e=this,t=this.targets,n=this.options.container;this.off(),w(window,"blur",this.onBlur),this.isMouse&&(t.forEach(function(t){w(t,"mousedown",e.onDragStart)}),w(n,"contextmenu",this._onContextMenu)),this.isTouch&&(t.forEach(function(t){w(t,"touchstart",e.onDragStart)}),w(n,"touchstart",this.onDragStart)),this._allowClickEvent(),this._dettachDragEvent()},i.onPinchStart=function(t){var e=this.options.pinchThreshold;this.isDrag&&this.getMovement()>e||(e=new F(k(t)),this.pinchFlag=!0,this._addStore(e),!1===this.emit("pinchStart",P(P({data:this.data,datas:this.data,angle:e.getAngle(),touches:this.getCurrentStore().getPositions()},e.getPosition()),{inputEvent:t}))&&(this.pinchFlag=!1))},i.onPinch=function(t,e){var n;!this.flag||!this.pinchFlag||e.length<2||(n=this.getCurrentStore(),this.isPinch=!0,this.emit("pinch",P(P({data:this.data,datas:this.data,movement:this.getMovement(e),angle:n.getAngle(e),rotation:n.getRotation(e),touches:n.getPositions(e),scale:n.getScale(e),distance:n.getDistance(e)},n.getPosition(e)),{inputEvent:t})))},i.onPinchEnd=function(t){var e,n;this.pinchFlag&&(e=this.isPinch,this.isPinch=!1,this.pinchFlag=!1,n=this.getCurrentStore(),this.emit("pinchEnd",P(P({data:this.data,datas:this.data,isPinch:e,touches:n.getPositions()},n.getPosition()),{inputEvent:t})))},i.getCurrentStore=function(){return this.clientStores[0]},i.moveClients=function(t,e,n){n=this._getPosition(t,n);return(n.deltaX||n.deltaY)&&(this.isDrag=!0),P(P({data:this.data,datas:this.data},n),{movement:this.getMovement(t),isDrag:this.isDrag,isPinch:this.isPinch,isScroll:!1,isMouseEvent:this._isMouseEvent,isSecondaryButton:this._isSecondaryButton,inputEvent:e})},i._addStore=function(t){this.clientStores.splice(0,0,t)},i._getPosition=function(t,e){var t=this.getCurrentStore().getPosition(t,e),e=this.clientStores.slice(1).reduce(function(t,e){e=e.getPosition();return t.distX+=e.distX,t.distY+=e.distY,t},t),n=e.distX,e=e.distY;return P(P({},t),{distX:n,distY:e})},i._attchDragEvent=function(){var t=this.options.container,e={passive:!1};this.isMouse&&(S(t,"mousemove",this.onDrag),S(t,"mouseup",this.onDragEnd)),this.isTouch&&(S(t,"touchmove",this.onDrag,e),S(t,"touchend",this.onDragEnd,e),S(t,"touchcancel",this.onDragEnd,e))},i._dettachDragEvent=function(){var t=this.options.container;this.isMouse&&(w(t,"mousemove",this.onDrag),w(t,"mouseup",this.onDragEnd)),this.isTouch&&(w(t,"touchstart",this.onDragStart),w(t,"touchmove",this.onDrag),w(t,"touchend",this.onDragEnd),w(t,"touchcancel",this.onDragEnd))},n}(t);var e=function(t){for(var e=5381,n=t.length;n;)e=33*e^t.charCodeAt(--n);return e>>>0};function nt(t,e,n,i){var r,o=document.createElement("style");return o.setAttribute("type","text/css"),o.setAttribute("data-styled-id",t),n.nonce&&o.setAttribute("nonce",n.nonce),o.innerHTML=(r=t,t=e,n.original?t:t.replace(/([^};{\s}][^};{]*|^\s*){/gm,function(t,e){e=e.trim();return(e?l(e):[""]).map(function(t){t=t.trim();return 0===t.indexOf("@")?t:-1<t.indexOf(":global")?t.replace(/\:global/g,""):-1<t.indexOf(":host")?""+t.replace(/\:host/g,"."+r):t?"."+r+" "+t:"."+r}).join(", ")+" {"})),(i||document.head||document.body).appendChild(o),o}function it(r){var o,s="rCS"+e(r).toString(36),a=0;return{className:s,inject:function(t,e){void 0===e&&(e={});var n,i=function(t){if(t&&t.getRootNode){t=t.getRootNode();if(11===t.nodeType)return t}}(t),t=0===a;return(i||t)&&(n=nt(s,r,e,i)),t&&(o=n),i||++a,{destroy:function(){i?(i.removeChild(n),n=null):(0<a&&--a,0===a&&o&&(o.parentNode.removeChild(o),o=null))}}}}}var rt=function(t,e){return(rt=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(t,e){t.__proto__=e}:function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])}))(t,e)};function ot(t,e){function n(){this.constructor=t}rt(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var st=function(){return(st=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};var at=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.injectResult=null,t.tag="div",t}ot(t,e);var n=t.prototype;return n.render=function(){var t=this.props,e=t.className,e=void 0===e?"":e,n=(t.cspNonce,t.portalContainer),t=function(t,e){var n={};for(r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}(t,["className","cspNonce","portalContainer"]),i=this.injector.className,r=this.tag,o={};return-1<(p.version||"").indexOf("simple")&&n&&(o={portalContainer:n}),p.createElement(r,st({ref:h(this,"element"),"data-styled-id":i,className:e+" "+i},o,t))},n.componentDidMount=function(){this.injectResult=this.injector.inject(this.element,{nonce:this.props.cspNonce})},n.componentWillUnmount=function(){this.injectResult.destroy(),this.injectResult=null},n.getElement=function(){return this.element},t}(p.Component);function j(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.map(function(t){return t.split(" ").map(function(t){return t?""+e+t:""}).join(" ")}).join(" ")}.apply(void 0,m(["scena-"],t))}j("ruler");var lt,ct,ut,dt=j("guide","adder"),ht=j("guides"),ft=j("guide"),pt=j("dragging"),gt=j("display-drag"),vt=(lt="scena-","\n{\n    position: relative;\n    width: 100%;\n    height: 100%;\n}\ncanvas {\n    position: relative;\n}\n.guide-origin {\n    position: absolute;\n    width: 1px;\n    height: 1px;\n    top: 0;\n    left: 0;\n    opacity: 0;\n}\n.guides {\n    position: absolute;\n    bottom: 0;\n    right: 0;\n    will-change: transform;\n    z-index: 2000;\n}\n.guide-pos {\n    position: absolute;\n    font-weight: bold;\n    color: #E04169;\n    width: 50px;\n    text-align: center;\n    backdrop-filter: blur(20px);\n}\n\n.horizontal .guide-pos {\n    bottom: 100%;\n    left: 50%;\n    transform: translate(-50%);\n}\n.vertical .guide-pos {\n    left: calc(100% + 2px);\n    top: 10px;\n    transform: translateY(-50%);\n}\n.display-drag {\n    position: absolute;\n    z-index: 2000;\n    font-weight: bold;\n    font-size: 12px;\n    display: block;\n    color: #E04169;\n    font-size: 10px;\n    line-height: 12px;\n    padding: 0 1px;\n    width: max-content;\n    backdrop-filter: blur(20px);\n}\n\n:host.horizontal .display-drag {\n    bottom: 100%;\n    left: 19px;\n}\n\n:host.horizontal .guides {\n    width: 100%;\n    height: 0;\n}\n:host.vertical .guides {\n    height: 100%;\n    width: 0;\n}\n.guide {\n    position: absolute;\n    background: #f33;\n    z-index: 2;\n}\n.selected {\n    background: #8169FF;\n}\n.guide.dragging:before {\n    position: absolute;\n    content: \"\";\n    width: 100%;\n    height: 100%;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n}\n:host.horizontal .guide {\n    width: 100%;\n    height: 1px;\n    cursor: row-resize;\n}\n:host.vertical .guide {\n    width: 1px;\n    height: 100%;\n    cursor: col-resize;\n}\n:host.horizontal .dragging,\n:host.horizontal .selected {\n    height: 2px\n}\n:host.vertical .dragging,\n:host.vertical .selected {\n    width: 2px\n}\n.mobile :host.horizontal .guide {\n    transform: scale(1, 2);\n}\n.mobile :host.vertical .guide {\n    transform: scale(2, 1);\n}\n:host.horizontal .guide:before {\n    height: 10px;\n    margin-top: -5px;\n    display: block;\n    content: '';\n}\n:host.vertical .guide:before {\n    width: 10px;\n    height: 100%;\n    margin-left: -5px;\n    display: block;\n    content: '';\n}\n.adder {\n    display: none;\n}\n.adder.dragging {\n    display: block;\n}\n".replace(/([^}{]*){/gm,function(t,e){return e.replace(/\.([^{,\s\d.]+)/g,"."+lt+"$1")+"{"})),mt=m(["className","rulerStyle","snapThreshold","snaps","displayDragPos","cspNonce","dragPosFormat","defaultGuides","showGuides"],B),yt=["getGuides","loadGuides","scroll","scrollGuides","resize","deleteSelectedGuide","resetSelected","clearAllGuides"],Et=["changeGuides","dragStart","drag","dragEnd","clickRuler","deleteGuide","addGuide","resetGuides"],Ct=(ct="div",ut=it(vt),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.injector=ut,t.tag=ct,t}return ot(t,e),t}(at)),bt=function(e){function t(t){var g=e.call(this,t)||this;return g.state={guides:[],selectedGuides:[]},g.scrollPos=0,g.guideElements=[],g._isFirstMove=!1,g.onDragStart=function(t){g.resetSelected(),g.props.onDragStart(t),g._isFirstMove=!0},g.onDrag=function(t){g._isFirstMove&&(g._isFirstMove=!1,n=t.datas.target,e=pt,n.classList?n.classList.add(e):n.className+=" "+e);var e,n=g.movePos(t);return g.props.onDrag(v(v({},t),{dragElement:t.datas.target})),n},g.onDragEnd=function(t){var e=t.datas,n=t.isDrag,i=t.distX,r=t.distY;if(n){var n=g.movePos(t),o=g.state.guides,s=g.props,a=s.onChangeGuides,l=s.onAddGuide,c=s.zoom,u=s.displayDragPos,d=s.digit,s=s.lockGuides,h=parseFloat((n/c).toFixed(d||0));if(u&&(g.displayElement.style.cssText+="display: none;"),n=e.target,c=pt,n.classList?n.classList.remove(c):(c=new RegExp("(\\s|^)"+c+"(\\s|$)"),n.className=n.className.replace(c," ")),e.fromRuler)g._isFirstMove&&g.props.onClickRuler(v(v({},t),{pos:0})),h>=g.scrollPos&&o.indexOf(h)<0&&g.setState({guides:m(o,[h])},function(){a({guides:g.state.guides,distX:i,distY:r,isAdd:!0,isRemove:!1,isChange:!1}),l({posNewGuide:h})});else{var d=e.target.getAttribute("data-index"),f=!1,p=!1,o=m(o);if(h<g.scrollPos){if(s&&(!0===s||-1<s.indexOf("remove")))return;u=o[d];o.splice(d,1),g.props.onDeleteGuide({deletedIndexGuide:d,deletedPosGuide:u}),f=!0}else{if(-1<o.indexOf(h))return;if(s&&(!0===s||-1<s.indexOf("change")))return;o[d]=h,p=!0}g.setState({guides:o},function(){var t=g.state.guides;a({distX:i,distY:r,guides:t,isAdd:!1,isChange:p,isRemove:f})})}g.props.onDragEnd(v(v({},t),{dragElement:e.target}))}},window.addEventListener("keydown",function(t){"Backspace"===t.code&&g.state.selectedGuides.length&&g.deleteSelectedGuide()}),window.addEventListener("click",function(t){g.resetSelected(),t.stopPropagation()}),g}s(t,e);var n=t.prototype;return n.disablePointerEventsOnScroll=function(){var t,e=this;null!=(t=this.props)&&t.showGuides&&(this._pointerEventsTimer&&clearTimeout(this._pointerEventsTimer),this.guidesElement.style.pointerEvents="none",this._pointerEventsTimer=setTimeout(function(){e.guidesElement.style.pointerEvents="auto"},300))},n.render=function(){var t=this.props,e=t.className,n=t.type,i=t.zoom,r=t.style,o=t.rulerStyle,s=t.displayDragPos,a=t.cspNonce,l=t.dragGuideStyle,t=t.portalContainer,c=this.props,u=this.getTranslateName(),d={};return B.forEach(function(t){"style"!==t&&(d[t]=c[t])}),p.createElement(Ct,{ref:h(this,"manager"),cspNonce:a,className:j("manager",n)+" "+e,portalContainer:t,style:r},p.createElement("div",{className:j("guide-origin"),ref:h(this,"originElement")}),p.createElement(A,v({ref:h(this,"ruler"),style:o},d)),p.createElement("div",{className:ht,ref:h(this,"guidesElement"),style:{transform:u+"("+-this.scrollPos*i+"px)"}},s&&p.createElement("div",{className:gt,ref:h(this,"displayElement"),style:l}),p.createElement("div",{className:dt,ref:h(this,"adderElement")}),this.renderGuides()))},n.selectGuide=function(t,e){this.setState({selectedGuides:[t]}),e.stopPropagation(),e.preventDefault()},n.renderGuides=function(){var o=this,t=this.props,s=t.type,a=t.zoom,e=t.showGuides,l=t.guideStyle,c=t.displayGuidePos,n=t.guidePosStyle,u=void 0===n?{}:n,d=this.getTranslateName(),n=this.state.guides,h=t.guidePosFormat||t.dragPosFormat||function(t){return t},f=this.state.selectedGuides;if(this.guideElements=[],e)return n.map(function(e,t){return p.createElement("div",{className:j("guide",s)+" "+(f.includes(e)?j("selected"):""),ref:(n=o,i="guideElements",function(t){t&&(n[i][r]=t)}),key:r=t,"data-index":t,"data-pos":e,onClick:function(t){return o.selectGuide(e,t)},style:v(v({},l),{transform:d+"("+e*a+"px) translateZ(0px)"})},c&&p.createElement("div",{className:j("guide-pos"),style:u||{}},h(e)));var n,i,r})},n.componentDidMount=function(){var u=this;this.gesto=new et(this.manager.getElement(),{container:document.body}).on("dragStart",function(t){var e=u.props,n=e.type,i=e.zoom,e=e.lockGuides;if(!0===e)t.stop();else{var r=t.inputEvent.target,o=t.datas,s=u.ruler.canvasElement,a=u.guidesElement,n="horizontal"===n,l=u.originElement.getBoundingClientRect(),c=$(u.manager.getElement()),l=V(c,[t.clientX-l.left,t.clientY-l.top]),a=(l[0]-=a.offsetLeft,l[1]-=a.offsetTop,l[n?1:0]+=u.scrollPos*i,o.offsetPos=l,o.matrix=c,e&&-1<e.indexOf("add")),n=e&&-1<e.indexOf("remove"),i=e&&-1<e.indexOf("change");if(r===s){if(a)return void t.stop();o.fromRuler=!0,o.target=u.adderElement}else{if(l=ft,(c=r).classList?!c.classList.contains(l):!c.className.match(new RegExp("(\\s|^)"+l+"(\\s|$)")))return t.stop(),!1;if(n&&i)return void t.stop();o.target=r}u.onDragStart(t)}}).on("drag",this.onDrag).on("dragEnd",this.onDragEnd),this.setState({guides:this.props.defaultGuides||[]})},n.componentWillUnmount=function(){this.gesto.unset()},n.componentDidUpdate=function(t){t.defaultGuides!==this.props.defaultGuides&&this.setState({guides:this.props.defaultGuides||[]})},n.loadGuides=function(t){this.setState({guides:t})},n.deleteSelectedGuide=function(){var e=this,t=this.getGuides(),n=this.getGuides(),i=t.findIndex(function(t){if(e.state.selectedGuides.includes(t))return t});t.splice(i,1),this.setState({guides:t,selectedGuides:[]}),this.props.onDeleteGuide({deletedPosGuide:n[i],deletedIndexGuide:i})},n.clearAllGuides=function(){this.setState({guides:[]})},n.getGuides=function(){return this.state.guides},n.scrollGuides=function(n,t){void 0===t&&(t=1);var e=this.guidesElement,i=(this.disablePointerEventsOnScroll(),this.scrollPos=n,e.style.transform=this.getTranslateName()+"("+-n*t+"px)",this.state.guides);this.guideElements.forEach(function(t,e){t&&(t.style.display=-n+i[e]<0?"none":"block")})},n.resize=function(){this.ruler.resize()},n.scroll=function(t){this.ruler.scroll(t)},n.movePos=function(t){var e=t.datas,n=t.distX,t=t.distY,i=this.props,r=i.type,o=i.zoom,s=i.snaps,a=i.snapThreshold,l=i.displayDragPos,c=i.digit,i=i.dragPosFormat||function(t){return t},u="horizontal"===r,n=V(e.matrix,[n,t]),t=e.offsetPos,d=n[0]+t[0],n=n[1]+t[1],t=Math.round(u?n:d),h=parseFloat((t/o).toFixed(c||0)),u=s.slice().sort(function(t,e){return Math.abs(h-t)-Math.abs(h-e)});return u.length&&Math.abs(u[0]*o-t)<a&&(t=(h=u[0])*o),e.fromRuler&&this._isFirstMove||(l&&(n="horizontal"===r?this.calcHorizontalTransform(t):this.calcVerticalTransform(t),this.displayElement.style.cssText+="display: block; transform: "+n,this.displayElement.innerHTML=""+i(h)),(d=e.target).setAttribute("data-pos",h),d.style.transform=this.getTranslateName()+"("+t+"px)"),t},n.getTranslateName=function(){return"horizontal"===this.props.type?"translateY":"translateX"},n.resetSelected=function(){this.setState({selectedGuides:[]})},n.calcHorizontalTransform=function(t){return"translate(-18px, "+(t-10+"px")+") rotate(-90deg)"},n.calcVerticalTransform=function(t){return"translate("+(t+8+"px")+", 1px)"},t.defaultProps={className:"",type:"horizontal",zoom:1,style:{},snapThreshold:5,snaps:[],digit:0,onClickRuler:function(){},onAddGuide:function(){},onDeleteGuide:function(){},onChangeGuides:function(){},onDragStart:function(){},onDrag:function(){},onDragEnd:function(){},displayDragPos:!1,dragPosFormat:function(t){return t},defaultGuides:[],lockGuides:!1,showGuides:!0,guideStyle:{},dragGuideStyle:{},guidePosStyle:{},portalContainer:null},t}(p.PureComponent),xt=function(n){function t(t){var e=n.call(this,t)||this;return e.state={},e.state=v({},t),e}return s(t,n),t.prototype.render=function(){var t=this.state,e=t.container,t=function(t,e){var n={};for(r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}(t,["container"]);return o.createPortal(p.createElement(bt,v({ref:h(this,"guides")},t)),e)},t}(p.Component);return function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e}(function(r){function t(t,e){void 0===e&&(e={});var n=r.call(this)||this,i=(n.tempElement=document.createElement("div"),{});return Et.forEach(function(e){i[("on "+e).replace(/[\s-_]([a-z])/g,function(t,e){return e.toUpperCase()})]=function(t){return n.trigger(e,t)}}),o.render(p.createElement(xt,v({},e,i,{container:t,ref:h(n,"innerGuides")})),n.tempElement),n}s(t,r);var e=t.prototype;return e.setState=function(t,e){this.innerGuides.setState(t,e)},e.destroy=function(){o.render(null,this.tempElement),this.tempElement=null,this.innerGuides=null},e.getInnerGuides=function(){return this.innerGuides.guides},function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;0<=a;a--)(r=t[a])&&(s=(o<3?r(s):3<o?r(e,n,s):r(e,n))||s);return 3<o&&s&&Object.defineProperty(e,n,s),s}([n(yt,function(t,i){t[i]||(t[i]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this.getInnerGuides();if(n&&n[i])return n[i].apply(n,t)})}),n(mt,function(t,n){Object.defineProperty(t,n,{get:function(){return this.getInnerGuides().props[n]},set:function(t){var e;this.innerGuides.setState(((e={})[n]=t,e))},enumerable:!0,configurable:!0})})],t)}(t))});
//# sourceMappingURL=guides.min.js.map
